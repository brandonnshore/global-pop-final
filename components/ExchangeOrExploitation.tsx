"use client";

import { useState } from "react";

interface Scenario {
  id: number;
  title: string;
  description: string;
  source: string;
  interpretation: string;
  suggestedValue: number; // 0-100, where 0 is exchange, 100 is exploitation
}

const SCENARIOS: Scenario[] = [
  {
    id: 1,
    title: "Shirley Bassey in 'Diamonds from Sierra Leone'",
    description:
      "Kanye West uses the 1971 Shirley Bassey recording in Diamonds from Sierra Leone to critique materialism. The sample is legally licensed and used to frame a critique of fame and consumerism.",
    source: "Burns, Woods, and Lafrance",
    interpretation:
      "This case leans toward cultural exchange. Burns, Woods, and Lafrance show that Kanye transforms the meaning of Bassey's original recording, using it as a narrative tool to create a dialogue between luxury and critique. The sample is legally cleared, and rather than simply borrowing the glamorous sound, Kanye places it against lyrics about the blood diamond trade and inequality. The juxtaposition reveals how sampling can reframe cultural artifacts to produce new meaning. This is not extraction—it is transformation through sonic storytelling.",
    suggestedValue: 25,
  },
  {
    id: 2,
    title: "Kenyan Song 'Kothbiro' in 'Yikes'",
    description:
      "Kanye West samples the Kenyan song Kothbiro in Yikes. The original artists Ayub Ogada and James Mbarack Achieng were unaware that their music was being used and said they were 'clueless' about their contribution.",
    source: "OkayAfrica reporting by Kam Tambini",
    interpretation:
      "This case leans strongly toward exploitation. As reported by Kam Tambini, the original Kenyan artists had no knowledge that their music was being sampled. Ayub Ogada stated he was 'clueless' about the use of his work. The power imbalance here is significant: a globally dominant artist profits from the creative labor of African musicians who receive neither credit nor compensation in a meaningful way. Even if the sample was technically cleared through a label, the artists themselves were left out of the conversation. This reflects the broader pattern Steven Feld describes, where non-Western music is extracted and repurposed by Western pop culture without genuine collaboration or respect for the original creators.",
    suggestedValue: 85,
  },
  {
    id: 3,
    title: "Deep Forest's 'Sweet Lullaby'",
    description:
      "Deep Forest samples Afunakwa's Solomon Islands lullaby Rorogwela and turns it into Sweet Lullaby, which becomes a global hit. The original singer gains no direct benefit from the commercial success.",
    source: "Steven Feld",
    interpretation:
      "This is a case of strong exploitation. Steven Feld uses this example as a central case study in his discussion of world music's duality. Deep Forest took a Solomon Islands lullaby sung by Afunakwa and transformed it into a commercial hit without providing the original singer with credit, compensation, or recognition. The song became emblematic of the 'world music' genre, celebrated for promoting cultural diversity, yet it simultaneously revealed deep inequalities. The original culture's voice was used as raw material for Western profit. Feld argues that cases like this show how the celebration of global sounds can mask exploitative power relations. The original artist should have been a collaborator, not an invisible source.",
    suggestedValue: 95,
  },
  {
    id: 4,
    title: "Kanye's Pattern of Unlicensed Sampling",
    description:
      "Kanye West is sued more than fourteen times for unlicensed sampling including cases where permission was denied but the sample was used anyway.",
    source: "Ashley King, Digital Music News",
    interpretation:
      "This leans toward exploitation. Ashley King documents a pattern of behavior where Kanye repeatedly uses samples without legal clearance, sometimes even after being explicitly denied permission. While some artists justify this as pushing creative boundaries, the repeated lawsuits suggest a disregard for ownership and the labor of other musicians. This connects directly to Annemette Kirkegaard's framework: appropriation becomes problematic when it operates within large power imbalances and shows little regard for the original creators. Kanye's 'sample first, ask later' approach may feel rebellious, but it often places him in the role of the powerful taking from the less powerful—mirroring the same Western dominance over marginalized voices that scholars like Feld critique.",
    suggestedValue: 80,
  },
  {
    id: 5,
    title: "Reverse Engineering Without Original Recordings",
    description:
      "Producers who reverse engineer samples without using the original recordings but attempt to recreate vintage textures for artistic reasons.",
    source: "Mike Exarchos",
    interpretation:
      "This leans toward cultural exchange. Mike Exarchos describes reverse engineering as a practice where producers study how older music was constructed and attempt to recreate those sonic textures using synthesis, programming, and new recordings rather than direct sampling. This is not about taking someone else's work—it is about learning from it. The process fosters musical literacy and critical listening. Producers engage with the techniques and aesthetics of earlier music without extracting the labor of the original artists. When done with respect and creativity, this becomes a form of homage and education rather than appropriation. It reflects how culture builds on itself through study and reinterpretation, not through exploitation.",
    suggestedValue: 20,
  },
  {
    id: 6,
    title: "Cultural Appropriation Framework",
    description:
      "Annemette Kirkegaard defines cultural appropriation in music as borrowing that can either promote cross-cultural understanding or deepen inequality depending on power structures.",
    source: "Annemette Kirkegaard",
    interpretation:
      "This scenario is neutral and serves as a teaching tool. Kirkegaard does not argue for one side or the other—she provides the framework we use to evaluate cases like the others in this exercise. She explains that cultural appropriation in music is not inherently good or bad. It depends on context, intent, collaboration, and power dynamics. When large Western artists sample from marginalized cultures without credit, compensation, or collaboration, it deepens inequality. When artists engage in genuine partnership, share credit, and give back to the communities from which they borrow, it can promote understanding. Her work, informed by scholars like Bell Hooks and Stuart Hall, reminds us that the question is not whether sampling happens, but how it happens and who benefits.",
    suggestedValue: 50,
  },
];

export default function ExchangeOrExploitation() {
  const [currentScenario, setCurrentScenario] = useState(0);
  const [sliderValue, setSliderValue] = useState(50);
  const [showInterpretation, setShowInterpretation] = useState(false);
  const [responses, setResponses] = useState<{ [key: number]: number }>({});

  const scenario = SCENARIOS[currentScenario];

  const handleSubmit = () => {
    setResponses({ ...responses, [scenario.id]: sliderValue });
    setShowInterpretation(true);
  };

  const handleNext = () => {
    if (currentScenario < SCENARIOS.length - 1) {
      setCurrentScenario(currentScenario + 1);
      setSliderValue(responses[SCENARIOS[currentScenario + 1].id] || 50);
      setShowInterpretation(false);
    }
  };

  const handlePrevious = () => {
    if (currentScenario > 0) {
      setCurrentScenario(currentScenario - 1);
      setSliderValue(responses[SCENARIOS[currentScenario - 1].id] || 50);
      setShowInterpretation(false);
    }
  };

  const handleReset = () => {
    setSliderValue(50);
    setShowInterpretation(false);
  };

  return (
    <div className="p-8 max-w-4xl bg-white min-h-screen">
      {/* Header */}
      <div className="mb-8 text-center">
        <h1 className="text-4xl font-bold mb-2">Exchange or Exploitation</h1>
        <p className="text-sm text-gray-600">
          An Interactive Exploration of Cultural Appropriation in Sampling
        </p>
      </div>

      {/* Progress */}
      <div className="mb-8 flex items-center justify-between text-sm">
        <p className="text-gray-600">
          Scenario {currentScenario + 1} of {SCENARIOS.length}
        </p>
        <div className="flex gap-1">
          {SCENARIOS.map((_, idx) => (
            <div
              key={idx}
              className={`w-8 h-2 ${
                idx === currentScenario
                  ? "bg-black"
                  : idx in responses
                  ? "bg-gray-400"
                  : "bg-gray-200"
              }`}
            />
          ))}
        </div>
      </div>

      {/* Scenario Card */}
      <div className="mb-8 border-2 border-black p-6">
        <h2 className="text-2xl font-bold mb-4">{scenario.title}</h2>
        <p className="text-base leading-relaxed mb-4">{scenario.description}</p>
        <p className="text-sm text-gray-600 italic">Source: {scenario.source}</p>
      </div>

      {/* Slider */}
      <div className="mb-8">
        <div className="flex justify-between mb-2 font-bold text-lg">
          <span>EXCHANGE</span>
          <span>EXPLOITATION</span>
        </div>
        <input
          type="range"
          min="0"
          max="100"
          value={sliderValue}
          onChange={(e) => setSliderValue(Number(e.target.value))}
          disabled={showInterpretation}
          className="w-full h-3 bg-gray-200 appearance-none cursor-pointer slider"
          style={{
            background: `linear-gradient(to right, #10b981 0%, #fbbf24 50%, #ef4444 100%)`,
          }}
        />
        <div className="flex justify-between text-sm text-gray-600 mt-1">
          <span>0</span>
          <span>50</span>
          <span>100</span>
        </div>
        <p className="text-center mt-4 text-2xl font-bold">
          {sliderValue < 35
            ? "Exchange"
            : sliderValue < 65
            ? "Ambiguous"
            : "Exploitation"}
        </p>
      </div>

      {/* Controls */}
      <div className="mb-8 flex gap-4 justify-center">
        {!showInterpretation ? (
          <>
            <button
              onClick={handleSubmit}
              className="bg-black text-white px-8 py-3 font-bold text-lg hover:bg-gray-800"
            >
              SUBMIT
            </button>
            <button
              onClick={handleReset}
              className="bg-gray-300 text-black px-8 py-3 font-bold text-lg hover:bg-gray-400"
            >
              RESET
            </button>
          </>
        ) : (
          <div className="flex gap-4">
            <button
              onClick={handlePrevious}
              disabled={currentScenario === 0}
              className="bg-gray-300 text-black px-8 py-3 font-bold text-lg disabled:opacity-50"
            >
              PREVIOUS
            </button>
            <button
              onClick={() => setShowInterpretation(false)}
              className="bg-black text-white px-8 py-3 font-bold text-lg"
            >
              REVISE
            </button>
            {currentScenario < SCENARIOS.length - 1 && (
              <button
                onClick={handleNext}
                className="bg-black text-white px-8 py-3 font-bold text-lg"
              >
                NEXT
              </button>
            )}
          </div>
        )}
      </div>

      {/* Interpretation */}
      {showInterpretation && (
        <div className="border-t-4 border-black pt-8">
          <h3 className="text-2xl font-bold mb-4">Scholarly Interpretation</h3>
          <div className="bg-gray-50 p-6 border-l-4 border-black">
            <p className="text-base leading-relaxed">{scenario.interpretation}</p>
          </div>
          <div className="mt-4 p-4 bg-black text-white text-sm">
            <p>
              <span className="font-bold">Your response:</span> {sliderValue}/100{" "}
              {sliderValue < 35
                ? "(Exchange)"
                : sliderValue < 65
                ? "(Ambiguous)"
                : "(Exploitation)"}
            </p>
            <p className="mt-2">
              <span className="font-bold">Scholar's perspective:</span>{" "}
              {scenario.suggestedValue}/100{" "}
              {scenario.suggestedValue < 35
                ? "(Exchange)"
                : scenario.suggestedValue < 65
                ? "(Ambiguous)"
                : "(Exploitation)"}
            </p>
          </div>
        </div>
      )}

      {/* Summary */}
      {currentScenario === SCENARIOS.length - 1 && showInterpretation && (
        <div className="mt-8 p-6 bg-black text-white">
          <h3 className="text-2xl font-bold mb-4">Reflection</h3>
          <p className="leading-relaxed">
            You have now evaluated all six scenarios. The purpose of this exercise is not to
            find a single "correct" answer, but to understand that cultural appropriation in
            sampling exists on a spectrum. Context matters. Power matters. Collaboration
            matters. As Kirkegaard argues, the same act can be exchange or exploitation
            depending on how it is executed and who holds the power.
          </p>
        </div>
      )}
    </div>
  );
}
